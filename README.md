#EstateTeam Design Template HTML/CSS Style Guide
# レギュレーションの目的・背景
当文書はHTMLおよびCSSのフォーマッティングとスタイルに関するルールを定義します。当文書はコラボレーションとコード品質の向上およびサポート・インフラストラクチャーの利用可能化を目的としています。ルールはHTMLおよびCSSで記述された直接実行可能なファイルに適用されるものになります。全般的な品質が維持されている限り、ツールによる難読化、ミニファイ、コンパイルは自由です。



# 開発環境のセットアップ
## 必要事項
開発に向けて下記のソフトウェアがインストールされている必要があります。

1. Git
2. Node.js(`v12.1.0`以上)
3. yarn
   - `npm`よりインストールが早いなどの観点からパッケージマネージャとしてこちらを採用しています。
   - 詳細はこちら。https://qiita.com/lelouch99v/items/c97ff951ca31298f3f24


### 推奨環境
- エディタ：[Visual Studio Code](https://code.visualstudio.com/)



---

# 4.開発時
当プロジェクトのディレクトリに移動してから実行してください。

## 4.1.（初回限定）パッケージのインストール
```shell
yarn install
```

## 4.2.開発環境の起動
```shell
yarn start
```

---


---

# コーディングガイド

## html(ejs)
当サイトのHTMLは[ejs](https://ejs.co/)を用いて、記述しています。
ejsなどのテンプレートエンジンを、個人の技術面で使用するのが難しいなどの懸念点があれば、
buildファイルgulpsetを使用せずbuildファイルを切り離して制作を行なってください。

### 全ページ共通インクルードファイル
全ページで共通で使用されるincludeファイルは以下common配下のincフォルダで配置しています。
```
_header.ejs ... ヘッダー
_mansionsymbol.ejs ... ヘッダー、コンテンツメニュー、コンバージョンメニューの物件ロゴ・シンボル
_contentmenu.ejs ... コンテントメニュー
_cvmenu.ejs ... コンバージョンメニュー
_emergency.ejs ... 緊急告知要素
_bottomarea.ejs ... ボトムエリア（ページ最下部注釈、コンバージョン）
_pagedirection.ejs ... ページ遷移用ネクストバックナビ
_footer.ejs ... フッター
```

これらファイルのスタイルはcommon/cssフォルダ配下のlayoutにてパーツごとにscssファイルがあるので、レイアウトを調整するときはそちらを使用してください。

`head`の記述は`src/_head.ejs`に記載してあります。



### ejsの変数
インクルードされているejsファイルにページ固有の値を渡すため、以下を変数として各ページに記述しています。

```ejs
<% const params = {
  title: '{ページ名}｜【公式】ザ・パークハウス 三田ガーデン レジデンス&タワー｜「白金高輪」駅徒歩8分｜三菱地所レジデンスの新築分譲マンション', // ヘッダのタイトル(ページ名のみ変更)
  description: ' | {ページ名}', // ディスクリプション(ページ名のみ変更)
}; %>
```

## 6.2.css(scss)
ベースコーディングに関しては基本的にMindBEMdingとして使用しています。
また元となるベースのCSSの命名が実装時に重複してCSSが破綻する問題を回避するため共通要素の個有の要素には名前空間を接頭辞として実装しています。
commonファイルのCSSに関しては以下のような位置付けで各フォルダでCSSを管理しています。

```
base ... リセット系CSS
common.scss ... common/cssフォルダコンパイル用scssファイル
development  ... 開発・ダミー用のCSS（開発やテストを行う時にのみ使用し、実際の制作には使用しないでください。）
extend ... 外部プラグインのCSSなどlint除外用フォルダ
utils ... util系のCSS
variables ... 色、フォントなど変数を定義できるフォルダ
```


## 6.3.js、

common配下のjsではサイト共通で使用されるjsファイルやプラグインなどが

```
legacy-function.js ... ES5＋Jqueryグローバル記述用JS    
lib ... ES6+Webpack記述用 JS
utility.js ... グローバルutil系のJS
vendor ... 外部プラグイン配置用フォルダ
```

ページで共通で使用されるJavascriptに関してはlibフォルダ内で管理されており、ES6 + webpack で開発しています。
libフォルダで管理されているJSはbuild時`lib.js`に圧縮してコンパイルされるようになっており
